<!DOCTYPE html>
<meta charset="UTF-8"/>
<title>freia - the PHP library</title>
<meta rel="description" content="Tome of php server magic that you can add to any project"/>
<link rel="stylesheet" href="assets/main.css"/>
<link rel="stylesheet"
     href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/default.min.css">

<body>

<div class="window">

	<div class="window-Body">
		<h1 class="window-Logo" id="doc-intro">
			<span class="window-Logotext">Freia - the PHP library</span>
		</h1>


<!-- Documentation -->
<div class="doc">

<p>The <a href="https://github.com/freialib">freia library</a>
is a tome of php server magic that you can add to any project, be it an exotic
blank page, that awesome box of horrors you unwillingly inherited from your dev
grandma' (which you're too scared to touch), even that web framework that's the
fastest "hello world" claptrap of the month.</p>

<p class="doc-Note">Unlike other solutions even if you don't pick freia to
start a project, or don't pick freia for your main logic, we've designed freia
to be a solution you can always goto. It's never too late to use
freia.</small></p>

<p>Among the solutions we provide in the main modules, you'll find easy routing
though <code class="code code-class">HttpDispatcher</code></b>, programatic
security and access control via <code class="code code-class">SecurityID</code>,
a easy to use cli system via <code class="code code-class">Console</code>,
flexible migration system via the <code class="code code-class">pdx</code>
command, and much more...

<p>The code is clean and easy to read, verifiable, self contained and
replacable.</p>

<p>The project is <a href="https://github.com/freialib">hosted on GitHub</a>.
You can report bugs and discuss features on the issue pages. Feel free to also
send tweets on <a href="https://twitter.com/">twitter</a> using the hashtag
<code>#freialib</code>, or post questions on
<a href="http://stackoverflow.com/">stackoverflow</a> using the
<code>freialib</code> tag.</p>

<p><i>The freia library is distributed under a <b>BSD 2-clause license</b>.</i>
<br/><small>See <a href="#doc-license">License</a> section for more
information.</small></p>

<p><i><b>The freia library is currently still in early development</b>,
everything that goes in it is planned and a lot of it's code is consolidation
and of tooling of code the authors have already written. Things are still being
documented, tests written/moved/etc. The prototype version (v0.0.0) is
available if you wish to take a look at it. Code will be split up into
independent modules; for easy refactoring the code is currently in a single
repo at this stage in development.</i></p>

<h2 id="doc-using">Installing</h2>

<h3>Existing Codebase</h3>
<p>If you have an existing codebase the way you include freia is hugely
dependent on your circumstances. We recomend reading the
<a href="#freia">freia Module</a> docs. After you understand the
requirements for <a href="#doc-freia-autoloading">autoloading</a> and
<a href="#doc-freia-init">initialization</a> you should have a good idea
what you need to do in your project to integrate freia.</p>

<h3>Fresh Start</h3>

<p>The recomended method to get the freia library is via
<a href="https://getcomposer.org/">composer</a>. We recomend keeping the
<code>composer.lock</code> file and also commiting all the files to your
version control system rather then rely on re-downloading each time. It is much
more reliable to rely on the servers your code base is on then several servers
all over the internet, any of which can go down and break your project.</p>

<p>It is prefered to not rely on composer on the server side, which isn't a
problem even if you want to clone to your server if you simply commit all your
dependencies into your revision control system.</p>

<h4>Minimal version</h4>

<pre><code>{
	"autoload": {
		"freia": {
			"load": [ "system", "linker", "vendor" ]
		}
	},
	"require": {
		"php": ">=5.4.10",
		"freia": "~1.0",
		"hlin/archetype": "~1.0",
		"hlin/attribute": "~1.0",
		"hlin/tools": "~1.0"
	}
}</code></pre>

<h4>All modules</h4>

<pre><code>{
	"autoload": {
		"freia": {
			"load": [ "system", "linker", "vendor" ]
		}
	},
	"require": {
		"php": ">=5.4.10",
		"freia": "~1.0",
		"hlin/archetype": "~1.0",
		"hlin/attribute": "~1.0",
		"hlin/tools": "~1.0",
		"fenrir/system": "~1.0",
		"fenrir/tools": "~1.0"
	}
}</code></pre>

<h4>Basic framework for getting started</h4>

<p>We provide a basic framework if you start from a completely blank
slate to help you get going. We do recomend people make their own project
structure from scratch to get the most benefit by avoiding any unncesary
clutter that a generic structure might impose, but if you're in a hurry or need
a reference point here you go:</p>

<pre><code class="vdr / no-highlight">composer create-project --prefer-dist freialib/framework YOUR_PROJECT/ "~1.0"
cd YOUR_PROJECT/1.0
git init
git add -A
git commit -m "base"</code></pre>

<p>If you don't have the composer command run the following to get it:</p>

<pre><code class="vdr / no-highlight">curl -sS https://getcomposer.org/installer | php
sudo mv composer.phar /usr/local/bin/composer</code></pre>

<h2 id="doc-license">License</h2>

<p>The freia library is distributed using a
<a href="http://en.wikipedia.org/wiki/BSD_licenses">BSD 2-clause license</a>.
You can find the license text in the <a href="/license.txt">license.txt</a>
file. The BSD 2-clause license allows you to use freia for both open source and
commercial projects with little to no restrictions; mainly you just need to
maintain the license text in the files, even if you make modifications to the
files in question.</p>

<h2 id="doc-foreword">Foreword</h2>

<p>This document is the entire freia documentation, the official documention,
and the main and only format of the docs.</p>

<p>We are intentionally avoiding a printable and automatically generated
versions due to the complexity that introduces both to maintaining the docs,
writing the docs, contributing to the docs, the organization of the docs, as
well as the complexity it adds to the code. We don't believe extremly long
blocks of documentation in code to be all that useful to
inline auto-complete.</p>

<p>If you wish to correct or add anything to this document simply go to the
<a href="https://github.com/freialib/freialib.github.io/blob/master/index.html">file
of this document on the site's github repo</a> and press the <code>Edit</code>
button. You will need a <a href="https://github.com/">free Github account</a>.
Github will magically create a copy of the repo and file (fork), and allow you
put your changes into a patch which you can send back to us to integrate (pull
request).</p>

<p>The documentation is organized into topics and modules. Modules have
have concepts and classes organized in sub-namespaces. Sub-namespaces may be
organized into categories when relevant (the category will be in
paranthesis).</p>

<div class="toc">
	<div class="toc-Title"><a href="#">Topic 1</a></div>
	<div class="toc-Title"><a href="#">Topic 2</a></div>
	<div class="toc-Title"><a href="#">namespace Module</a></div>
	<ol>
		<li><a class="toc-Entry" href="#">Concept 1</a></li>
		<li>
			<a class="toc-Entry" href="#">Concept 2</a>
			<ul>
				<li><a class="toc-Entry" href="#">Concept 2.1</a></li>
				<li><a class="toc-Entry" href="#">Concept 2.2</a></li>
				<li><a class="toc-Entry" href="#">Concept 2.3</a></li>
			</ul>
		</li>
		<li><a class="toc-Entry" href="#">Concept 3</a></li>
	</ol>
	<p class="toc-Subtitle">subnamespace</p>
	<ul>
		<li><a class="toc-Entry" href="#">Class 1</a></li>
		<li><a class="toc-Entry" href="#">Class 2</a></li>
	</ul>
	<p class="toc-Subtitle">subnamespace (category)</p>
	<ul>
		<li><a class="toc-Entry" href="#">Class 3</a></li>
		<li><a class="toc-Entry" href="#">Class 4</a></li>
	</ul>
</div>

<p>We try to conver everything, but we do not try to cover everything
systematically. This may seem strange, but we have a lot of details in the way
things are implemented, convering things one by one is actually a lot more
confusing then presenting the concept, ie. the problem space it was designed
to solve.</p>

<p>In this document we use universal namespace notation to refer both classes
and namespaces and combinations there of. As an example
<code>\hlin\archetype\Context</code> is written as
<code>hlin.archetype.Context</code> which is also the format that's used and
recomended for configuration files since it avoids confusing escaping of the
<code>\</code> character.</p>

<h2 id="freia"><code>freia</code> Module</h2>

<p>The freia module consists of only the main <code>freia</code> namespace. To
allow for working with composer the module is written in a
<a href="http://www.php-fig.org/psr/psr-4/">PSR-4</a> format.</p>

<p>All other modules in the library are defined as
<code>freia-cfs-module</code>s.</p>

<p>The namespace actually only really contains one class
<code>freia.SymbolLoader</code> that's independent, the other utility classes
contained within, outside of <code>freia.Panic</code> which is a conventions
requirement (see: <a href="#doc-freia-errors">exceptions &amp; errors</a>),
actually require the autoloader to be active for the dependencies to resolve
(mainly interface dependencies).</p>

<h3 id="doc-freia-autoloading">Autoloading</h3>

<p><code>fenrir.SymbolLoader</code> is the class you should be looking when
trying to initialized the autoloader. The class <code>fenrir.Autoloader</code>
is intended for use in contexts where the archetype is required. You can not
initialize it with out having <code>fenrir.SymbolLoader</code> already
initialized.</p>

<p>Simple autoloader initialization:</p>

<pre><code>&lt;?php namespace appname\main;

/**
 * @return \hlin\archetype\Autoloader
 */
function autoloader($syspath) {

	// paths where to search for freia modules (relative to $syspath)
	$paths = ['system', 'vendor'];

	// include composer autoloader
	require "$syspath/vendor/autoload.php";

	// initialize
	$autoloader = \freia\SymbolLoader::instance($syspath, $paths);

	// add as main autoloader
	$is_registered = $autoloader->register(true);

	// fulfill archetype contract before returning
	return \freia\Autoloader::wrap($autoloader);
}</code></pre>

<p>We recomend storing the paths configuration in your
<code>composer.json</code>. Building on the above example you can just change
<code>$paths</code> as follows to configure modules via your
<code>composer.json</code> configuration:</p>

<pre><code>&lt;?php namespace appname\main;

	// ...

	$composerjson = "$syspath/composer.json";
	file_exists($composerjson) or die(" Err: missing composer.json\n");
	$env = json_decode(file_get_contents($composerjson), true);
	$paths = $env['autoload']['freia'];

	// ...

</code></pre>

<h4>Class Name Conventions</h4>

<p>Classes written in freia modules follow the following conventions:</p>
<ul>
	<li>given multiple words in a CamelCase classname the last word, and last
	    word only, is converted to a directory and the classname with out the
	    last word in it is used as the file name</li>
	<li>in resolution, if only the first segment of a namespace is provided the
	    class will resolve to the top class with the segment as the main
	    namespace or the first subnamespace in cases of foreign namespaces</li>
	<li>whenever a namespace ends with <code>next\&lt;namespace&gt;</code> the
	    class will resolve to the first class in the namespace after the
	    current module in the stack that has the class in the namespace after
	    <code>next</code></li>
	<li>we recognize php is case insensitive but calling classes from freia
	    modules using the wrong case will result in undefined behavior (will
	    work if it was previously loaded, or on window, fail otherwise due to
	    file mapping)</li>
</ul>

<p>As an optional requirement, which we do not impose, we recomend namespaces
be lowercase letters (using <code>\</code> to seperate words) and not be used
as an extention of class names (eg. <code>appname.Controllers.Home</code> would
be incorect under the recomendation). Please keep all the information within
the class name and use the namespace purely as a "name workspace."</p>

<p>With regard to class names being case sensitive, in part this is a
restriction inherited from compatibility with composer, but that aside in
practice we find it's fairly easy and desirable to keep classes case sensitive.
Code is more consistent and as a bonus file names of classes using camel case
are readable, as opposed to the being a amalgam of lowercase words which would
happen if we had made it case insensitive.</p>

<h5>Examples of the first rule</h5>
<pre><code>class Controller_Home # => Controller_Home.php</code></pre>
<pre><code>class HomeController # => Controller/Home.php</code></pre>
<pre><code>class ExampleCommand # => Command/Example.php</code></pre>
<pre><code>class ExampleTrait # => Trait/Example.php</code></pre>
<pre><code>interface ExampleSignature # => Signature/Example.php</code></pre>
<pre><code>class ReallyLongNameDatabase # => Database/ReallyLongName.php</code></pre>

<h5>Examples of resolution</h5>
<p>We'll assume the following stack of modules and classes. Remember you can
use the command line helpers to diagnose the class resolution if you need it;
in practice it's rarely as complex as the example bellow.</p>
<pre><code class="vdr / no-highlight">module0.module2
	class Example1

module1.system.legacysupport
	class Example1
module1.system.core
	class Example1
	class Example2 extends next\module1\Example1
module1.tools
	class Example1

module2.system
	class Example1

module3.system
	class Example1
	class Example3 extends \module1\system\core\Example1
</code></pre>
<p><small>In the examples bellow <code>A &lt;- B</code> means <code>A</code>
extends <code>B</code></small></p>
<pre><code># simple resolution (absolute and dynamic)
# --------------------------------------------------------------------------
\module1\system\core\Example1 # => module1.system.core.Example1
\module1\system\Example1 # => module1.system.legacysupport.Example1
\module1\tools\Example1 # => module1.tools.Example1
\module1\Example1 # => module1.systen.core.Example1</code></pre>

<pre><code># overwriting from foreign namespace
# --------------------------------------------------------------------------
\module2\system\Example1 # => module2.system.Example1
\module2\Example1 # => module0.module2.Example1</code></pre>

<pre><code># infinite blind extention via the "next" keyword
# --------------------------------------------------------------------------
\module1\Example2 # => module1.system.Example2 &lt;- module1.tools.Example1</code></pre>

<pre><code># explicit inheritance
# --------------------------------------------------------------------------
\module3\Example3 # => module3.system.Example3 &lt;- module1.system.core.Example1</code></pre>

<h3 id="doc-freia-initialization">Initialization</h3>

<p>Settings up the autoloader allows you to use modules, however in freia most
modules require a context to work with. Things such as logs, file system
functions, cli functions, web functions, paths are all part of the context
passed into classes that require them.</p>

<p>Here is a minimalistic initialization block:</p>

<pre><code>&lt;?php namespace appname\main;

use \hlin\archetype\Autoloader;

/**
 * @return \hlin\archetype\Context
 */
function context($syspath, $logspath, Autoloader $autoloader) {

	// php settings
	date_default_timezone_set('Europe/London');

	// paths
	$cachepath = realpath("$syspath/cache");

	// paths to obscure in logs
	$secpaths = ['syspath' => $syspath];

	// logger setup
	$fs = \fenrir\Filesystem::instance();
	$logger = \hlin\FileLogger::instance($fs, $logspath, $secpaths);

	// configuration reader
	$filemap = \freia\Filemap::instance($autoloader);
	$configs = \freia\Configs::instance($fs, [ $filemap ]);

	// main context
	$context = \fenrir\Context::instance($fs, $logger, $configs);

	// paths
	$context->addpath('syspath', $syspath);
	$context->addpath('logspath', $logspath);
	$context->addpath('cachepath', $cachepath);

	return $context;
}</code></pre>

<p>99% of modules will require just the above to function. In some cases
you may need to add to the above to satisfy the special needs of specialized
modules; be it extra path constants or just diffrent classes for the
initialization altogheter.</p>

<p>Here are a few "extra" configuration values as an example:</p>

<pre><code>&lt;?php namespace appname\main;

	// ...

	// versions
	$pkg = json_decode(file_get_contents("$syspath/composer.json"), true);
	$mainauthor = $pkg['authors'][0]['name'];
	$context->addversion($pkg['name'], $pkg['version'], $mainauthor);
	$context->setmainversion($pkg['name']);
	$context->addversion('PHP', phpversion(), 'The PHP Group');

	// special handlers
	$context->filemap_is($filemap);
	$context->autoloader_is($autoloader);

	// ...

</code></pre>

<h4>Putting it all togheter</h4>

<p>So far we've gone into what code you need for initialization but not really
how you use it. Let's assume the <code>appname.main.context</code> function
defined above is in <code>main.context.php</code> and the code illustrated
in the Autoloader section is in <code>main.autoloader.php</code>. We recomend
you always use <code>main</code> for the filename of your entry point, and
place your entry point on the root of the project.</p>

<p>Assuming all files mentioned so far are on the root of your project, here's
a minimal example of how your entry point might look for a web app:</p>

<h5>main.php</h5>
<pre><code>&lt;?php namespace appname\main;

/**
 * ...
 */
function main($localconf) {

	$syspath = realpath(__DIR__);
	$logspath = realpath("$syspath/logs");

	require "$syspath/main.autoloader.php";
	require "$syspath/main.context.php";

	// init autoloader
	$autoloader = autoloader($syspath);

	if ($autoloader === null) {
		error_log("Failed loading autoloader.");
		return 500;
	}

	// init main context
	$context = context($syspath, $logspath, $autoloader);

	// example logic
	try {
		$dbconf = $context->confs->read('freia/databases');
		$mysql = \fenrir\MysqlDatabase::instance($dbconf['appname.mysql']);
		$http = \fenrir\HttpDispatcher::instance($context);

		require "$syspath/routes/main.php"; # => router function
		\appname\routes\router($http, $context, $mysql);

		return 0; # success
	}
	catch (\Exception $exception) {
		$context->logger->logexception($exception);
		return 500;
	}
}
</code></pre>
<h5>index.php</h5>
<pre><code>&lt;?php namespace appname\main;

	$wwwpath = realpath(__DIR__);
	$siteroot = realpath("$wwwpath/..");

	// ignore existing files in PHP build-in server
	$uri = $_SERVER['REQUEST_URI'];
	if (strpos($uri, '..') == false) {
		$req = "$wwwpath/$uri";
		if (file_exists($req) &amp;&amp; is_file($req)) {
			return false;
		}
	}

	// private keys, server settings and sensitive information
	$wwwconf = include "$siteroot/conf.php";
	$wwwconf['wwwpath'] = $wwwpath;

	require "{$wwwconf['syspath']}/main.php";

	// invoke main
	$exitcode = main($wwwconf);

	// handle system failure
	if ($exitcode != 0) {
		$errpage = "$wwwpath/err/$exitcode.html";
		if (file_exists($errpage)) {
			http_response_code($exitcode);
			include $errpage;
		}
	}
</code></pre>

<h5>console</h5>

<p>It's fairly simply to setup other specialized entry points:</p>

<pre><code>#!/usr/bin/env php
&lt;?php

	$syspath = realpath(__DIR__);
	$logspath = realpath("$syspath/logs");

	require "$syspath/main.autoloader.php";
	require "$syspath/main.context.php";

	// init autoloader
	$autoloader = \appname\main\autoloader($syspath);

	if ($autoloader === null) {
		die(" Err: Missing dependencies.\n");
	}

	// init main context
	$context = \appname\main\context($syspath, $logspath, $autoloader);

	// create console handler
	$console = \fenrir\Console::instance($context);

	// invoke main
	$commands = $context->confs->read('freia/commands');
	return $console->main($commands);

</code></pre>

<h3 id="doc-freia-defining-a-module">Defining a Module</h3>

<p>A freia module is defined by prividing a namespace (we recomend always
providing a subnamespace as well) and setting the type to
<code>freia-module</code> in the <code>composer.json</code> of the module.</p>

<pre><code>{
	"name": "yournamespace/subnamespace",
	"type": "freia-module"
}</code></pre>

<p>The above is the minimum requirement and will work fine if you maintain
the module only in your version control but if you wish to create a
distributable module you'll need to add a few more fields to the file, please
refer to the <a href="https://getcomposer.org/doc/04-schema.md">composer
schema documentation</a> for all requirements.</p>

<p>There is no mandatory directories in the module structure. Of the directories
freia only requires <code>src</code> and <code>confs</code>; anything else
is considered specialized functionality (this includes tests). Here is a module
example:</p>

<pre><code>your_module/
	confs/
	src/
	composer.json</code></pre>


<h2 id="hlin"><code>hlin</code> Module</h2>

<p></p>

<h3 id="doc-hlin-interfaces">Interfaces</h3>

<p></p>

<h3 id="doc-hlin-errors">Exceptions &amp; Errors</h3>

<p></p>

<h3 id="doc-hlin-contexts">Using Contexts</h3>

<p></p>

<h3 id="hlin-tools-Arr"><code>hlin.tools.Arr</code> class</h3>

<p></p>

<h3 id="hlin-tools-Text"><code>hlin.tools.Text</code> class</h3>

<p></p>

<h3 id="hlin-tools-Time"><code>hlin.tools.Time</code> class</h3>

<p></p>

<h3 id="hlin-tools-PHP"><code>hlin.tools.PHP</code> class</h3>

<p></p>

<h3 id="hlin-archetype-Context"><code>hlin.archetype.Context</code> class</h3>

<p></p>

<h3 id="hlin-archetype-Filesystem"><code>hlin.archetype.Filesystem</code> class</h3>

<p></p>

<h3 id="hlin-archetype-Configs"><code>hlin.archetype.Configs</code> class</h3>

<p></p>

<h3 id="hlin-archetype-CLI"><code>hlin.archetype.CLI</code> class</h3>

<p></p>

<h3 id="hlin-archetype-Web"><code>hlin.archetype.Web</code> class</h3>

<p></p>

<h3 id="hlin-archetype-Logger"><code>hlin.archetype.Logger</code> class</h3>

<p></p>

<h3 id="hlin-archetype-Request"><code>hlin.archetype.Request</code> class</h3>

<p></p>

<h3 id="hlin-archetype-Response"><code>hlin.archetype.Response</code> class</h3>

<p></p>

<h3 id="hlin-archetype-Autoloader"><code>hlin.archetype.Autoloader</code> class</h3>

<p></p>

<h3 id="hlin-archetype-Filemap"><code>hlin.archetype.Filemap</code> class</h3>

<p></p>

<h3 id="hlin-attribute-Contextual"><code>hlin.attribute.Contextual</code> class</h3>

<p></p>

<h3 id="hlin-attribute-Configurable"><code>hlin.attribute.Configurable</code> class</h3>

<p></p>

<h2 id="fenrir"><code>fenrir</code> Module</h2>

<p></p>

<h3 id="doc-fenrir-console">Using the Console</h3>

<p></p>

<h4 id="doc-fenrir-command">Creating Commands</h4>

<p></p>

<h4 id="doc-fenrir-help-commands">Help Commands</h4>

<p></p>

<h4 id="doc-fenrir-honeypot">Honeypot Command</h4>

<p></p>

<h4 id="doc-fenrir-make">Make Command</h4>

<p></p>

<h4 id="doc-fenrir-other-commands">Other Commands</h4>

<p></p>

<h3 id="doc-fenrir-pdx">Paradox Migrations</h3>

<p></p>

<h3 id="doc-fenrir-routing">Routing</h3>

<p></p>

<h3 id="fenrir-system-MysqlDatabase"><code>fenrir.system.MysqlDatabase</code> class</h3>

<p></p>

<h3 id="fenrir-tools-Console"><code>fenrir.tools.Console</code> class</h3>

<p></p>

<h3 id="fenrir-tools-Pdx"><code>fenrir.tools.Pdx</code> class</h3>

<p></p>

<h2 id="ran"><code>ran</code> Module</h2>

<p></p>

<h3 id="doc-ran-organizing-views">Organizing Views</h3>

<p></p>

<h3 id="ran-tools-Temp"><code>ran.tools.Temp</code> class</h3>

<p><code>Temp</code> is used for easily creating placeholder content.</p>

<pre><code>&lt;?php namespace ran; ?&gt;

&lt;div class=&quot;person&quot;&gt;
	&lt;div class=&quot;person-Avatar&quot;&gt;
		&lt;img src=&quot;&lt;?= Temp::img(100, 100) ?&gt;&quot;/&gt;
	&lt;/div&gt;
	&lt;div class=&quot;person-Meta&quot;&gt;
		&lt;p&gt;name: &lt;?= Temp::name() ?&gt;&lt;/p&gt;
		&lt;p&gt;signup: &lt;?= date('Y-m-d', Temp::time()) ?&gt;&lt;/p&gt;
		&lt;p&gt;tel: &lt;?= Temp::telephone() ?&gt;&lt;/p&gt;
	&lt;/div&gt;
&lt;/div&gt;</code></pre>

<p>While you can use it like the above example the real magic of Temp is that
when you call (almost all) the methods you get an instance that resolves to a
random version of what you requested. Here is a simple example of
the concept:</p>

<pre><code>$name = \ran\Temp::given_name();
echo $name;
echo $name;
echo $name;
echo $name;
</code></pre>
<p>The above may render to...</p>
<pre><code>Ana
Bob
Eve
Henry</code></pre>
<p>Of course what it renders to is random, your results may vary.</p>

<p>Most methods of <code>Temp</code> are self explainatory: <code>name</code>,
<code>given_name</code>, <code>family_name</code>, <code>word</code>,
<code>words</code>, <code>paragraph</code>, <code>city</code>,
<code>address</code>, <code>ssn</code>, <code>email</code>,
<code>telephone</code>, <code>title</code>, <code>fullurl</code>,
<code>counter</code>.</p>

<p>You can use <code>copies</code> to generate arrays of random things. This
method takes an array of data and creates an array of copies from it. In
additin to that you can pass in a 3rd parameter that specifies which of the
values in your original array are counters and it will increment or randomize
based on what you specify.</p>

<pre><code>// create random number of copies of entry with random number for viewcount
// and random number for comments, and incrementing value for id
$entries = Temp::copies($entry, rand(-20, 10), [
	'viewcount' => [0, 1000],
	'comments' => [0, 1000],
	'id' => 1,
]);</code></pre>
<p>When the count is lower then 0 it's interpreted as 0. The reason for
negative values is so you can specify how often you want to get an
empty state.</p>

<h3 id="ran-tools-HH"><code>ran.tools.HH</code> class</h3>

<p><code>HH</code> stands for <code>HTMLHeader</code> and maintains utilities
for programatically managing html header levels. The purpose is to get
perfect header levels.</p>

<pre><code>HH::next(); # => 'h1'
HH::next(); # => 'h2'

HH::raise('h2'); # => 'h3'
HH::raise('h6'); # => 'h6'</code></pre>

<p>You should always store your header units in variables and use them later;
 using the functions directly isn't practical.</p>

<pre><code>$h1 = HH::next();
$h2 = HH::next();
// ...
&lt;?= "&lt;$h2&gt;My Title&lt;/$h2&gt;" ?&gt;
</code></pre>

<p>Note that <code>$h1</code> isn't necesarily <code>'h1'</code> and
<code>$h2</code> isn't necesarily <code>'h2'</code>. If the piece of code in
the example was in a partial view the headers could resolve to <code>h3</code>
and <code>h4</code>.</p>

<p>It is recomended you pass the last header to partials; by convention
<code>$h</code> in the following:</p>

<pre><code>HH::base($h)
$h1 = HH::next();
$h2 = HH::next();
</code></pre>

<p>The following is equivalent to the above.</p>

<pre><code>$h1 = HH::raise($h);
$h2 = HH::raise($h1);</code></pre>

<p>If you ever need to reset to <code>h1</code>, simply call
<code>HH::base(null)</code>, or you can just hard code it by doing
<code>$h1 = 'h1'</code> and move from there.</p>

<h2 id="doc-changelog">Major Changes</h2>

<p><i>Nothing in this section at the moment. Check back later.</i></p>

</div>
<!-- /Documentation -->


	</div>

	<div class="window-Nav">
		<div class="window-Navhead">
			Table of Contents
		</div>
		<div class="window-Navbody">
			<div class="keyinfo">
				<span class="keyinfo-Lead">
					<i class="fa fa-download"></i>
					<a href="https://github.com/freialib/prototype/archive/master.zip">Get Freia</a> <span class="keyinfo-Version">v0.0.0</span>
				</span>
				<ul>
					<li><i class="fa fa-legal"></i> <a href="/license.txt">BSD 2-clause License</a></li>
					<li><i class="fa fa-github"></i> <a href="https://github.com/freialib">Github Repository</a></li>
					<li><i class="fa fa-twitter"></i> <a href="https://twitter.com/search?f=realtime&amp;q=%23freialib">Twitter <code>#freialib</code></a>
					<li><i class="fa fa-stack-exchange"></i> <a href="http://stackoverflow.com/search?q=%23freialib">Ask the community</a></li>

				</ul>
			</div>
			<div class="toc">
				<div class="toc-Title"><a href="#doc-intro">Introduction</a></div>
				<div class="toc-Title"><a href="#doc-using">Installing</a></div>
				<div class="toc-Title"><a href="#doc-license">License</a></div>
				<div class="toc-Title"><a href="#doc-foreword">Foreword</a></div>
				<div class="toc-Title"><a href="#freia">freia Module</a></div>
				<ol>
					<li><a class="toc-Entry" href="#doc-freia-autoloading">Autoloading</a></li>
					<li><a class="toc-Entry" href="#doc-freia-init">Initialization</a></li>
					<li><a class="toc-Entry" href="#doc-freia-defining-a-module">Defining a Module</a></li>

				</ol>
				<div class="toc-Title"><a href="#hlin">hlin Module</a></div>
				<ol>
					<li><a class="toc-Entry" href="#doc-hlin-interfaces">Interfaces</a></li>
					<li><a class="toc-Entry" href="#doc-hlin-contexts">Using Contexts</a></li>
					<li><a class="toc-Entry" href="#doc-hlin-errors">Exceptions &amp; Errors</a></li>
				</ol>
				<p class="toc-Subtitle">tools</p>
				<ul>
					<li><a class="toc-Entry" href="#hlin-tools-Arr">Arr</a></li>
					<li><a class="toc-Entry" href="#hlin-tools-Text">Text</a></li>
					<li><a class="toc-Entry" href="#hlin-tools-Time">Time</a></li>
					<li><a class="toc-Entry" href="#hlin-tools-PHP">PHP</a></li>
				</ul>
				<p class="toc-Subtitle">archetype (system)</p>
				<ul>
					<li><a class="toc-Entry" href="#hlin-archetype-Context">Context</a></li>
					<li><a class="toc-Entry" href="#hlin-archetype-Filesystem">Filesystem</a></li>
					<li><a class="toc-Entry" href="#hlin-archetype-Configs">Configs</a></li>
					<li><a class="toc-Entry" href="#hlin-archetype-Flagparser">CLI</a></li>
					<li><a class="toc-Entry" href="#hlin-archetype-Web">Web</a></li>
					<li><a class="toc-Entry" href="#hlin-archetype-Logger">Logger</a></li>
				</ul>
				<p class="toc-Subtitle">archetype (general)</p>
				<ul>
					<li><a class="toc-Entry" href="#hlin-archetype-Request">Request</a></li>
					<li><a class="toc-Entry" href="#hlin-archetype-Response">Response</a></li>
				</ul>
				<p class="toc-Subtitle">archetype (freia)</p>
				<ul>
					<li><a class="toc-Entry" href="#hlin-archetype-Autoloader">Autoloader</a></li>
					<li><a class="toc-Entry" href="#hlin-archetype-Filemap">Filemap</a></li>
				</ul>
				<p class="toc-Subtitle">attribute</p>
				<ul>
					<li><a class="toc-Entry" href="#hlin-attribute-Contextual">Contextual</a></li>
					<li><a class="toc-Entry" href="#hlin-attribute-Configurable">Configurable</a></li>
				</ul>
				<div class="toc-Title"><a href="#fenrir">fenrir Module</a></div>
				<ol>
					<li>
						<a class="toc-Entry" href="#doc-fenrir-console">Using the Console</a>
						<ul>
							<li><a class="toc-Entry" href="#doc-fenrir-command">Creating Commands</a></li>
							<li><a class="toc-Entry" href="#doc-fenrir-help-commands">Help Commands</a></li>
							<li><a class="toc-Entry" href="#doc-fenrir-honeypot">Honeypot Command</a></li>
							<li><a class="toc-Entry" href="#doc-fenrir-make">Make Command</a></li>
							<li><a class="toc-Entry" href="#doc-fenrir-other-commands">Other Commands</a></li>
						</ul>
					</li>
					<li><a class="toc-Entry" href="#doc-fenrir-pdx">Paradox Migrations</a></li>
					<li><a class="toc-Entry" href="#doc-fenrir-routing">Routing</a></li>
				</ol>
				<p class="toc-Subtitle">system</p>
				<ul>
					<li><a class="toc-Entry" href="#fenrir-system-MysqlDatabase">MysqlDatabase</a></li>
				</ul>
				<p class="toc-Subtitle">tools</p>
				<ul>
					<li><a class="toc-Entry" href="#fenrir-tools-Console">Console</a></li>
					<li><a class="toc-Entry" href="#fenrir-tools-Console">Pdx</a></li>
				</ul>
				<div class="toc-Title"><a href="#ran">ran Module</a></div>
				<ol>
					<li>
						<a class="toc-Entry" href="#doc-ran-organizing-views">Organizing Views</a>
					</li>
				</ol>
				<p class="toc-Subtitle">tools</p>
				<ul>
					<li><a class="toc-Entry" href="#ran-tools-Temp">Temp</a></li>
					<li><a class="toc-Entry" href="#ran-tools-HH">HH</a></li>
				</ul>
				<div class="toc-Title"><a href="#doc-changelog">Major Changes</a></div>
			</div>
		</div>
	</div>

</div>

<script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/highlight.min.js"></script>
<script>
	hljs.configure({
		tabReplace: '    ', // 4 spaces
	});
	hljs.initHighlightingOnLoad();
</script>